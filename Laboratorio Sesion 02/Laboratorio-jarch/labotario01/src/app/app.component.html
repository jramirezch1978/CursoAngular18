<div class="app-layout">
  <!-- ğŸ¯ Header de la aplicaciÃ³n -->
  <header class="app-header">
    <div class="header-content">
      <h1>{{ title }}</h1>
      <p class="subtitle">ğŸ—ï¸ PROVIAS DESCENTRALIZADO - Angular v18</p>
    </div>
  </header>

  <!-- ğŸ“± Contenido principal -->
  <main class="main-content">
    <div class="container">
      <!-- ğŸ® Panel de control principal -->
      <section class="control-panel">
        <h2>ğŸ® Panel de Control del Laboratorio</h2>
        
        <div class="controls-grid">
          <div class="control-group">
            <h3>ğŸ”„ GestiÃ³n del Componente</h3>
            <div class="button-group">
              <button 
                (click)="toggleLifecycleDemo()" 
                class="btn"
                [class.btn-danger]="showLifecycleDemo"
                [class.btn-success]="!showLifecycleDemo">
                {{ showLifecycleDemo ? 'ğŸ—‘ï¸ Destruir Componente' : 'ğŸ”„ Crear Componente' }}
              </button>
              
              <span class="status-indicator" [class.active]="showLifecycleDemo">
                Estado: {{ showLifecycleDemo ? 'âœ… Activo' : 'âŒ Destruido' }}
              </span>
            </div>
          </div>
          
          <div class="control-group">
            <h3>ğŸ“¤ ComunicaciÃ³n Parent â†’ Child</h3>
            <div class="button-group">
              <button 
                (click)="updateInputData()" 
                class="btn btn-primary"
                [disabled]="!showLifecycleDemo">
                ğŸ¯ Actualizar Input Data
              </button>
              
              <div class="input-preview">
                <strong>Valor actual:</strong>
                <code>{{ inputDataForChild }}</code>
              </div>
            </div>
          </div>
        </div>
        
        <!-- ğŸ“‹ Instrucciones de uso -->
        <div class="instructions-mini">
          <h4>ğŸ“‹ Instrucciones RÃ¡pidas:</h4>
          <ol>
            <li><strong>Abre DevTools (F12)</strong> y ve a Console</li>
            <li><strong>Observa logs</strong> de constructor, ngOnInit, etc.</li>
            <li><strong>Click "Actualizar Input"</strong> para ver ngOnChanges</li>
            <li><strong>Click "Destruir Componente"</strong> para ver ngOnDestroy</li>
            <li><strong>Click "Crear Componente"</strong> para ver el ciclo completo otra vez</li>
          </ol>
        </div>
      </section>

      <!-- ğŸ§ª Ãrea del componente demo -->
      <section class="demo-area">
        @if (showLifecycleDemo) {
          <div class="component-container">
            <div class="component-header">
              <h3>ğŸ”„ Componente Lifecycle Demo Activo</h3>
              <p>El componente estÃ¡ vivo y ejecutando sus lifecycle hooks</p>
            </div>
            
            <!-- ğŸ¯ AquÃ­ se renderiza nuestro componente con @Input -->
            <app-lifecycle-demo [inputData]="inputDataForChild">
            </app-lifecycle-demo>
          </div>
        } @else {
          <div class="component-destroyed">
            <div class="destroyed-state">
              <h3>ğŸ’€ Componente Destruido</h3>
              <p>El componente ha sido destruido y ngOnDestroy se ejecutÃ³.</p>
              <p>ğŸ” <strong>Revisa la console</strong> para ver el log de limpieza de recursos.</p>
              
              <div class="destruction-info">
                <h4>ğŸ§¹ QuÃ© sucediÃ³ en ngOnDestroy:</h4>
                <ul>
                  <li>âœ… Timer fue limpiado (clearInterval)</li>
                  <li>âœ… Logs de destrucciÃ³n fueron generados</li>
                  <li>âœ… Recursos fueron liberados correctamente</li>
                  <li>âœ… No hay memory leaks</li>
                </ul>
              </div>
              
              <button 
                (click)="toggleLifecycleDemo()" 
                class="btn btn-success btn-lg">
                ğŸ”„ Crear Componente Nuevamente
              </button>
            </div>
          </div>
        }
      </section>
    </div>
  </main>

  <!-- ğŸ¦¶ Footer con informaciÃ³n tÃ©cnica -->
  <footer class="app-footer">
    <div class="footer-content">
      <p>&copy; 2025 PROVIAS - LAB 1: Lifecycle Hooks completado</p>
      <small>Ing. Jhonny Alexander Ramirez Chiroque - Angular v18 Course</small>
    </div>
  </footer>
</div>