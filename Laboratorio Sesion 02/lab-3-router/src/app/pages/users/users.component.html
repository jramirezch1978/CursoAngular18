<div class="users-container">
  <header class="page-header">
    <div class="header-content">
      <h1>ğŸ‘¥ GestiÃ³n de Usuarios</h1>
      <p class="page-description">
        Administra usuarios del sistema PROVIAS. Esta pÃ¡gina demuestra navegaciÃ³n 
        con parÃ¡metros y query parameters.
      </p>
    </div>
    
    <div class="header-actions">
      <button class="btn btn-secondary" (click)="goToDashboard()">
        ğŸ  Dashboard
      </button>
      <button class="btn btn-primary" (click)="addNewUser()">
        â• Nuevo Usuario
      </button>
    </div>
  </header>

  <!-- ğŸ“Š EstadÃ­sticas rÃ¡pidas -->
  <section class="stats-bar">
    <div class="stat-item">
      <span class="stat-value">{{ users.length }}</span>
      <span class="stat-label">Total Usuarios</span>
    </div>
    <div class="stat-item">
      <span class="stat-value">{{ getActiveUsers().length }}</span>
      <span class="stat-label">Activos</span>
    </div>
    <div class="stat-item">
      <span class="stat-value">{{ getInactiveUsers().length }}</span>
      <span class="stat-label">Inactivos</span>
    </div>
  </section>

  <!-- ğŸ” Filtros -->
  <section class="filters-section">
    <h3>ğŸ” Filtros</h3>
    <div class="filter-buttons">
      <button 
        class="filter-btn" 
        (click)="filterByStatus('all')">
        Todos
      </button>
      <button 
        class="filter-btn" 
        (click)="filterByStatus('active')">
        Solo Activos
      </button>
      <button 
        class="filter-btn" 
        (click)="filterByStatus('inactive')">
        Solo Inactivos
      </button>
    </div>
  </section>

  <!-- ğŸ‘¥ Lista de usuarios -->
  <section class="users-grid">
    @for (user of users; track user.id) {
      <div 
        class="user-card" 
        [class.selected]="isUserSelected(user.id)"
        [class.inactive]="!user.isActive">
        
        <div class="user-avatar">{{ user.avatar }}</div>
        
        <div class="user-info">
          <h3 class="user-name">{{ user.name }}</h3>
          <p class="user-email">ğŸ“§ {{ user.email }}</p>
          <span class="user-role" [class]="getRoleClass(user.role)">
            {{ user.role }}
          </span>
          
          <div class="user-status">
            @if (user.isActive) {
              <span class="status-badge active">âœ… Activo</span>
            } @else {
              <span class="status-badge inactive">âŒ Inactivo</span>
            }
          </div>
        </div>
        
        <div class="user-actions">
          <button 
            class="action-btn view" 
            (click)="viewUser(user.id)"
            title="Ver detalles">
            ğŸ‘ï¸ Ver
          </button>
          <button 
            class="action-btn edit" 
            (click)="editUser(user.id)"
            title="Editar usuario">
            âœï¸ Editar
          </button>
        </div>
      </div>
    }
  </section>

  <!-- ğŸ§­ Demo de navegaciÃ³n -->
  <section class="navigation-demo">
    <h3>ğŸ§­ Demo de NavegaciÃ³n Angular Router</h3>
    
    <div class="demo-info">
      <div class="demo-section">
        <h4>ğŸ“ Rutas Implementadas</h4>
        <ul class="route-list">
          <li><code>/users</code> - Lista de usuarios (esta pÃ¡gina)</li>
          <li><code>/users/:id</code> - Detalles de usuario especÃ­fico</li>
          <li><code>/users/:id/edit</code> - Editar usuario especÃ­fico</li>
          <li><code>/users/new</code> - Crear nuevo usuario</li>
        </ul>
      </div>
      
      <div class="demo-section">
        <h4>ğŸ¯ Funcionalidades Demostradas</h4>
        <ul class="feature-list">
          <li>âœ… NavegaciÃ³n programÃ¡tica con <code>Router.navigate()</code></li>
          <li>âœ… ParÃ¡metros de ruta <code>:id</code></li>
          <li>âœ… Query parameters <code>?filter=active</code></li>
          <li>âœ… Rutas anidadas para acciones especÃ­ficas</li>
        </ul>
      </div>
    </div>
    
    <div class="test-navigation">
      <h4>ğŸ® Prueba la NavegaciÃ³n</h4>
      <p>Haz clic en "Ver" o "Editar" en cualquier usuario para ver cÃ³mo funcionan los parÃ¡metros de ruta.</p>
      
      <div class="nav-examples">
        <button 
          class="example-btn" 
          (click)="viewUser(1)">
          ğŸ‘ï¸ Ver Usuario #1
        </button>
        <button 
          class="example-btn" 
          (click)="editUser(2)">
          âœï¸ Editar Usuario #2
        </button>
        <button 
          class="example-btn" 
          (click)="filterByStatus('active')">
          ğŸ” Filtrar Activos
        </button>
      </div>
    </div>
  </section>
</div>