<div class="showcase-container">
  <!-- Header -->
  <div class="showcase-header">
    <h2>ğŸ¯ Showcase de Directivas Personalizadas</h2>
    <p>DemostraciÃ³n completa de todas las directivas implementadas en el Laboratorio 03</p>
    
    <!-- Control de Roles -->
    <div class="role-selector">
      <label>Rol actual: <strong>{{currentRole()}}</strong></label>
      <div class="role-buttons">
        <button 
          class="btn btn-role" 
          [class.active]="currentRole() === 'admin'"
          (click)="changeRole('admin')"
          appTooltip="Acceso completo a todas las funciones"
          tooltipPosition="top">
          ğŸ‘‘ Admin
        </button>
        <button 
          class="btn btn-role" 
          [class.active]="currentRole() === 'user'"
          (click)="changeRole('user')"
          appTooltip="Acceso estÃ¡ndar de usuario"
          tooltipPosition="top">
          ğŸ‘¤ Usuario
        </button>
        <button 
          class="btn btn-role" 
          [class.active]="currentRole() === 'guest'"
          (click)="changeRole('guest')"
          appTooltip="Acceso limitado de invitado"
          tooltipPosition="top">
          ğŸ‘¥ Invitado
        </button>
      </div>
    </div>
  </div>

  <div class="showcase-grid">
    
    <!-- 1. ValidationFeedbackDirective -->
    <div class="showcase-section">
      <h3>ğŸ” ValidationFeedbackDirective</h3>
      <p>Directiva que proporciona feedback visual para validaciÃ³n de formularios</p>
      
      <div class="form-demo">
        <div class="form-group">
          <label for="email">Email:</label>
          <input 
            type="email" 
            id="email"
            class="form-control"
            placeholder="Ingresa tu email"
            [ngModel]="email()"
            (ngModelChange)="email.set($any($event)); onEmailChange()"
            [appValidationFeedback]="emailValidation()"
            appTooltip="El email debe tener formato vÃ¡lido"
            tooltipPosition="right">
          <div class="validation-status">
            Estado: <span [class]="'status-' + emailValidation()">{{emailValidation()}}</span>
          </div>
        </div>

        <div class="form-group">
          <label for="password">Password:</label>
          <input 
            type="password" 
            id="password"
            class="form-control"
            placeholder="MÃ­nimo 8 caracteres"
            [ngModel]="password()"
            (ngModelChange)="password.set($any($event)); onPasswordChange()"
            [appValidationFeedback]="passwordValidation()"
            appTooltip="La contraseÃ±a debe tener al menos 8 caracteres"
            tooltipPosition="right">
          <div class="validation-status">
            Estado: <span [class]="'status-' + passwordValidation()">{{passwordValidation()}}</span>
          </div>
        </div>
      </div>

      <div class="feature-list">
        <h4>âœ¨ CaracterÃ­sticas:</h4>
        <ul>
          <li>âœ… Bordes de colores segÃºn estado (verde, rojo, amarillo)</li>
          <li>âœ… Backgrounds sutiles para mejor UX</li>
          <li>âœ… Efecto shake para estados invÃ¡lidos</li>
          <li>âœ… Transiciones suaves</li>
        </ul>
      </div>
    </div>

    <!-- 2. HasPermissionDirective -->
    <div class="showcase-section">
      <h3>ğŸ” HasPermissionDirective</h3>
      <p>Directiva estructural que muestra/oculta contenido basado en permisos</p>
      
      <div class="permissions-demo">
        <div class="permission-item">
          <div *appHasPermission="'read'" class="permission-content success">
            âœ… Tienes permiso de LECTURA
          </div>
          <div *appHasPermission="'read'; permissionMode: 'hide'" class="permission-content error">
            âŒ No tienes permiso de lectura
          </div>
        </div>

        <div class="permission-item">
          <div *appHasPermission="'write'" class="permission-content success">
            âœ… Tienes permiso de ESCRITURA
          </div>
          <div *appHasPermission="'write'; permissionMode: 'hide'" class="permission-content error">
            âŒ No tienes permiso de escritura
          </div>
        </div>

        <div class="permission-item">
          <div *appHasPermission="'delete'" class="permission-content success">
            âœ… Tienes permiso de ELIMINACIÃ“N
          </div>
          <div *appHasPermission="'delete'; permissionMode: 'hide'" class="permission-content error">
            âŒ No tienes permiso de eliminaciÃ³n
          </div>
        </div>

        <div class="permission-item">
          <div *appHasPermission="'edit-users'" class="permission-content success">
            âœ… Puedes EDITAR USUARIOS
          </div>
          <div *appHasPermission="'edit-users'; permissionMode: 'hide'" class="permission-content error">
            âŒ No puedes editar usuarios
          </div>
        </div>

        <div class="permission-item">
          <div *appHasPermission="'view-reports'" class="permission-content success">
            âœ… Puedes VER REPORTES
          </div>
          <div *appHasPermission="'view-reports'; permissionMode: 'hide'" class="permission-content error">
            âŒ No puedes ver reportes
          </div>
        </div>
      </div>

      <div class="feature-list">
        <h4>âœ¨ CaracterÃ­sticas:</h4>
        <ul>
          <li>âœ… Control granular de permisos</li>
          <li>âœ… Modo show/hide configurable</li>
          <li>âœ… Diferentes roles: Admin, Usuario, Invitado</li>
          <li>âœ… Persistencia en localStorage</li>
        </ul>
      </div>
    </div>

    <!-- 3. TooltipDirective -->
    <div class="showcase-section">
      <h3>ğŸ’¬ TooltipDirective</h3>
      <p>Directiva que agrega tooltips interactivos a cualquier elemento</p>
      
      <div class="tooltip-demo">
        <div class="tooltip-buttons">
          <button 
            class="btn btn-primary"
            appTooltip="Â¡Tooltip arriba!"
            tooltipPosition="top">
            Top
          </button>
          <button 
            class="btn btn-secondary"
            appTooltip="Â¡Tooltip abajo!"
            tooltipPosition="bottom">
            Bottom
          </button>
          <button 
            class="btn btn-success"
            appTooltip="Â¡Tooltip a la izquierda!"
            tooltipPosition="left">
            Left
          </button>
          <button 
            class="btn btn-warning"
            appTooltip="Â¡Tooltip a la derecha!"
            tooltipPosition="right">
            Right
          </button>
        </div>

        <div class="tooltip-elements">
          <p appTooltip="Los pÃ¡rrafos tambiÃ©n pueden tener tooltips">
            ğŸ–±ï¸ Pasa el mouse por aquÃ­
          </p>
          <span 
            class="tooltip-badge"
            appTooltip="InformaciÃ³n adicional sobre este elemento importante"
            tooltipPosition="bottom">
            ğŸ·ï¸ Badge con tooltip
          </span>
        </div>
      </div>

      <div class="feature-list">
        <h4>âœ¨ CaracterÃ­sticas:</h4>
        <ul>
          <li>âœ… 4 posiciones: top, bottom, left, right</li>
          <li>âœ… Animaciones suaves de entrada/salida</li>
          <li>âœ… Posicionamiento inteligente</li>
          <li>âœ… GestiÃ³n segura del DOM con Renderer2</li>
        </ul>
      </div>
    </div>

    <!-- 4. LazyLoadDirective -->
    <div class="showcase-section full-width" id="lazy-images">
      <h3>ğŸš€ LazyLoadDirective</h3>
      <p>Directiva que implementa lazy loading de imÃ¡genes con IntersectionObserver</p>
      
      <div class="lazy-load-demo">
        <div class="scroll-info">
          <p>ğŸ“œ Haz scroll hacia abajo para ver las imÃ¡genes cargÃ¡ndose dinÃ¡micamente</p>
          <button class="btn btn-primary" (click)="scrollToImages()">
            ğŸ“ Ver imÃ¡genes lazy-loaded
          </button>
        </div>

        <div class="images-grid">
          @for (url of imageUrls; track url) {
            <div class="image-card">
              <img 
                [appLazyLoad]="url"
                alt="Imagen lazy-loaded"
                class="lazy-image">
              <p class="image-caption">Imagen {{$index + 1}}</p>
            </div>
          }
        </div>
      </div>

      <div class="feature-list">
        <h4>âœ¨ CaracterÃ­sticas:</h4>
        <ul>
          <li>âœ… IntersectionObserver para detectar visibilidad</li>
          <li>âœ… Placeholder automÃ¡tico mientras carga</li>
          <li>âœ… Carga 100px antes de entrar en viewport</li>
          <li>âœ… Manejo de errores de carga</li>
          <li>âœ… GestiÃ³n de memoria eficiente</li>
        </ul>
      </div>
    </div>

  </div>

  <!-- Footer de informaciÃ³n -->
  <div class="showcase-footer">
    <div class="tech-info">
      <h4>ğŸ› ï¸ TecnologÃ­as Utilizadas:</h4>
      <div class="tech-tags">
        <span class="tech-tag">Angular 18</span>
        <span class="tech-tag">TypeScript</span>
        <span class="tech-tag">Signals</span>
        <span class="tech-tag">HostBinding</span>
        <span class="tech-tag">HostListener</span>
        <span class="tech-tag">Renderer2</span>
        <span class="tech-tag">IntersectionObserver</span>
        <span class="tech-tag">Directivas Personalizadas</span>
      </div>
    </div>
    
    <div class="instructions">
      <h4>ğŸ“‹ Instrucciones:</h4>
      <ol>
        <li>ğŸ”„ Cambia entre roles para ver cÃ³mo funcionan los permisos</li>
        <li>ğŸ“ Escribe en los campos para ver la validaciÃ³n en tiempo real</li>
        <li>ğŸ–±ï¸ Pasa el mouse por los elementos para ver los tooltips</li>
        <li>ğŸ“œ Haz scroll para observar el lazy loading de imÃ¡genes</li>
      </ol>
    </div>
  </div>
</div>
